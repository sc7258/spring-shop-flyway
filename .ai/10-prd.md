# Product Requirements Document (PRD)

## 1. 프로젝트 개요
**Online Bookstore API**는 사용자가 온라인에서 도서를 쉽고 빠르게 구매하고, 안전하게 배송받을 수 있는 경험을 제공하는 것을 목표로 합니다.

## 2. 핵심 기능 (Core Features)

### 2.1 회원 관리 (Member)
- 사용자 회원가입 및 로그인 (JWT 기반 인증).
- 사용자 프로필 관리 (주소지, 연락처 등).

### 2.2 도서 카탈로그 (Catalog)
- 도서 검색 (제목, 저자, 카테고리별).
- 도서 상세 정보 조회 (가격, 재고, 상세 설명).
- 실시간 재고 확인.

### 2.3 주문 및 결제 (Order & Payment)
- **장바구니(Cart):** 도서를 장바구니에 담고, 수량을 수정하거나 삭제할 수 있다.
- **주문(Order):** 장바구니에 담긴 상품을 주문하거나, 단건 주문을 생성한다.
- **결제(Payment):** PG사 연동을 모의 구현하여 결제 승인/취소를 처리한다.
- **주문 내역:** 사용자는 자신의 주문 내역과 상세 정보를 조회할 수 있다.

### 2.4 배송 (Delivery)
- 주문 완료 시 배송 정보 생성.
- 배송 상태 추적 (준비 중 -> 배송 중 -> 배송 완료).

### 2.5 사용자 참여 (User Engagement) - *New*
- **리뷰(Review):** 구매한 도서에 대해 평점(1~5점)과 리뷰를 작성할 수 있다.
- **위시리스트(Wishlist):** 관심 있는 도서를 위시리스트에 저장하고 관리할 수 있다.

## 3. 비즈니스 규칙 (Business Rules)
- **재고 관리:** 주문이 완료되는 시점에 재고를 차감한다. (동시성 이슈 고려 필요)
- **결제:** 결제가 성공해야 주문이 최종 승인된다.
- **배송비:** 일정 금액(예: 30,000원) 이상 구매 시 무료 배송을 적용한다.
- **리뷰 작성:** 리뷰는 해당 도서를 구매한 사용자만 작성할 수 있다. (구매 확정 후)

## 4. 비기능 요구사항 (Non-Functional Requirements)
- **성능:** 상품 검색 및 상세 조회 API는 평균 응답 속도 200ms 이내여야 한다.
- **확장성:** 트래픽 급증 시에도 주문 처리가 안정적이어야 한다.
- **보안:** 모든 개인정보(비밀번호, 주소 등)는 암호화되어 저장되어야 한다.
- **모니터링 & 로깅 (Monitoring & Logging):** - *New*
  - 시스템 상태(CPU, Memory, DB Connection)를 실시간으로 모니터링할 수 있어야 한다. (Actuator)
  - 주요 비즈니스 로직(주문, 결제 등)의 성공/실패 로그를 체계적으로 남겨야 한다.
  - 에러 발생 시 추적 가능한 식별자(Trace ID)를 로그에 포함해야 한다.
